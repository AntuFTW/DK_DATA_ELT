version: 2

models:
  - name: int_store_sales__clean_area_name
    description: Cleaned the AREA_NAME column so the AREA_NUMBER is not included.
  - name: int_store_sales__normalise_dk_publisher_name
    description: The PUBLISHER column has both 'Dk' and 'Dk Publishing', these should both be 'Dk'
    columns:
      - name: PUBLISHER
        tests:
          - dbt_expectations.expect_column_values_to_not_be_in_set:
              value_set: ['Dk Publishing']
  - name: int_store_sales__fill_in_null_author
    description: Fills in Null Authors with No_Author
    columns:
      - name: AUTHOR
        tests:
          - not_null
  - name: int_store_sales__preprocess_author
    description: Separates Authors into a list
  - name: int_store_sales__generate_unqiue_id_for_isbn
    description: Generates a numeric ID for every unique ISBN code
    columns:
      - name: DIM_BOOK_ID
        tests:
          - not_null
          - unique
      - name: ISBN
        tests:
          - not_null
          - unique